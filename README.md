# FastAPI Social Media App

Это веб-приложение, разработанное с использованием FastAPI, которое позволяет пользователям регистрироваться, входить в систему, публиковать посты и взаимодействовать с контентом (лайки, избранное и просмотр). Проект использует SQLite для хранения данных и поддерживает загрузку различных типов медиафайлов (аудио, видео, текстовые файлы и изображения).

## Описание

Проект предоставляет следующий функционал:

- **Регистрация и вход** пользователей.
- **Публикация постов** с возможностью загрузки аудио, видео, изображений и текстовых файлов (PDF).
- **Просмотр постов** с фильтрацией по категориям (например, только понравившиеся или сохраненные в избранное).
- **Взаимодействие с постами**: лайки, добавление в избранное, просмотры.
- **Профиль пользователя**, который отображает статистику по его постам, лайкам, избранным постам и т.д.

## Установка

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/MuratovB/wysp.git
   cd wysp
   ```
2. Создайте и активируйте виртуальное окружение:

   Для Linux/Mac:

   ```python
   python -m venv venv
   source venv/bin/activate
   ```

   Для Windows:

   ```python
   python -m venv venv
   .\venv\Scripts\activate
   ```
3. Установите зависимости:

   ```python
   pip install -r requirements.txt
   ```
4. Инициализируйте базу данных:

   ```python
   python -c "from db import init_db; init_db()"
   ```

## Запуск

Для запуска приложения python.exe чтобы инициализировать файл main.py:

```python
python.exe main.py
```

## Структура проекта

```python
/project-root
│
├── /static/          # Статические файлы (CSS, JS, изображения)
├── /templates/       # HTML-шаблоны для рендеринга страниц
├── db.py             # Модуль для работы с базой данных SQLite
├── main.py           # Основной файл FastAPI приложения
├── models.py         # Модели Pydantic для валидации данных
├── requirements.txt  # Список зависимостей проекта
└── README.md         # Этот файл

```

## Основные файлы и папки

* **`main.py`** : Содержит основное приложение FastAPI, маршруты и логику взаимодействия с пользователем и постами.
* **`db.py`** : Содержит функции для работы с базой данных SQLite, включая создание таблиц и проверку паролей.
* **`models.py`** : Модели данных с использованием Pydantic для валидации входных данных.
* **`templates/`** : Папка с HTML-шаблонами для отображения страниц.
* **`static/`** : Папка с статическими файлами (например, изображения, стили и скрипты).

## Как пользоваться

* Перейдите на главную страницу приложения: [http://127.0.0.1:8000]().
* Зарегистрируйтесь или войдите в систему с помощью своей учетной записи.
* После входа вы сможете:
  * Просматривать посты других пользователей.
  * Публиковать свои собственные посты с медиафайлами.
  * Лайкать и добавлять в избранное посты.
  * Просматривать и редактировать свой профиль.
* Для каждого поста доступны различные фильтры: по времени, популярности (по лайкам, избранным и просмотрам).

## Безопасность

* Приложение использует хеширование паролей с помощью библиотеки  **bcrypt** .
* Сессии управляются с использованием **starlette.middleware.sessions** с секретным ключом.

## Зависимости

Проект использует следующие зависимости:

* `fastapi`: основной фреймворк для создания веб-приложений.
* `uvicorn`: ASGI сервер для запуска приложения.
* `pydantic`: для валидации и сериализации данных.
* `bcrypt`: для хеширования паролей.
* `sqlite3`: встроенная поддержка SQLite в Python.
* `jinja2`: для рендеринга HTML-шаблонов.
* `starlette`: для асинхронного программирования и работы с сессиями.
